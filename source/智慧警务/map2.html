<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="initial-scale=1.0, user-scalable=yes" />
  <link href="//api.map.baidu.com/library/IndoorMap/1.0/src/indoor.min.css?v=1.0.1 " rel="stylesheet" type="text/css">
  <style type="text/css">
        body, html,#map {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}
    </style>
  <script type="text/javascript" src="//api.map.baidu.com/api?v=3.0&ak=TXlf8eViE7qrqtTLsciyhopnB6K9imSz"></script>
  <script type="text/javascript" src="//api.map.baidu.com/library/IndoorMap/1.0/src/indoor.min.js?v=1.0.1 "></script>
  <title>室内图展示</title>
</head>
<body>
<div id="map"></div>
</body>
</html>

<script type="text/javascript">
    // 百度地图API功能
    var map = new BMap.Map("map"); // 创建Map实例
    var top_left_navigation = new BMap.NavigationControl();  //左上角，添加默认缩放平移控件
    var top_left_control = new BMap.ScaleControl({anchor: BMAP_ANCHOR_TOP_LEFT});// 左上角，添加比例尺
    map.addControl(top_left_control);
    map.addControl(top_left_navigation);
    map.centerAndZoom(new BMap.Point(116.340739,40.03592), 19);  // 初始化地图,设置中心点坐标和地图级别
    map.enableScrollWheelZoom(true); // 开启鼠标滚轮缩放
    // 创建室内图实例
    var indoorManager = new BMapLib.IndoorManager(map);
    var point = new BMap.Point(116.340739,40.03592);
    var point2 = new BMap.Point(116.341581,40.035985);
    var point3 = new BMap.Point(116.342766,40.035327);
    var marker = new BMap.Marker(point);
    var marker2 = new BMap.Marker(point2);
    var marker3 = new BMap.Marker(point3);
    map.addOverlay(marker);
    map.addOverlay(marker2);
    map.addOverlay(marker3);
    map.addEventListener("click", function(e) {
            alert("111");
            console.log(e.point);
            var endPoint = new BMap.Point(e.point.lng,e.point.lat);
            alert(e.point.lng);
            alert(e.point.lat);

        });
</script>
